<!doctype html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AirQ Competition Helpers</title>
    <style>
      :root { color-scheme: light; }
      * { box-sizing: border-box; margin: 0; padding: 0; }
      body {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
        color: #1A202C;
        background: #F8FAFC;
        min-height: 100vh;
      }
      /* Language switcher */
      .lang-switcher {
        position: absolute;
        top: 16px;
        right: 16px;
        display: flex;
        gap: 6px;
      }
      .lang-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        font-size: 13px;
        font-weight: 500;
        border: 1px solid #E2E8F0;
        border-radius: 6px;
        background: #FFFFFF;
        color: #4A5568;
        cursor: pointer;
        transition: all 120ms ease;
      }
      .lang-btn svg {
        flex-shrink: 0;
      }
      .lang-btn:hover {
        border-color: #CBD5E0;
        background: #F7FAFC;
      }
      .lang-btn.active {
        border-color: #1976D2;
        background: #EBF5FF;
        color: #1976D2;
      }
      header {
        padding: 48px 16px 8px;
        text-align: center;
      }
      header h1 { margin: 0 0 8px; font-size: 1.75rem; font-weight: 700; }
      header p { margin: 0; color: #4A5568; }
      .apps {
        max-width: 720px;
        margin: 24px auto 56px;
        padding: 0 16px;
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
      }
      .card {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px 18px;
        border-radius: 12px;
        background: #FFFFFF;
        border: 1px solid #E2E8F0;
        box-shadow: 0 1px 2px rgba(0,0,0,0.04);
        text-decoration: none;
        color: inherit;
        transition: transform 120ms ease, box-shadow 120ms ease, border-color 120ms ease;
        user-select: none;
      }
      .card:hover {
        transform: translateY(-2px);
        border-color: #BFDBFE;
        box-shadow: 0 6px 16px rgba(2,136,209,0.12);
      }
      .card:active {
        transform: translateY(0);
      }
      .card[aria-disabled="true"] {
        opacity: 0.6;
        cursor: not-allowed;
        pointer-events: none;
      }
      .card[aria-disabled="true"]:hover {
        transform: none;
        border-color: #E2E8F0;
        box-shadow: 0 1px 2px rgba(0,0,0,0.04);
      }
      .icon {
        width: 44px;
        height: 44px;
        display: grid;
        place-items: center;
        border-radius: 10px;
        background: linear-gradient(135deg, #1976D2 0%, #42A5F5 100%);
        color: white;
        flex-shrink: 0;
      }
      .icon svg {
        width: 24px;
        height: 24px;
      }
      .meta { display: grid; gap: 2px; }
      .meta .title { font-weight: 700; }
      .meta .desc { color: #4A5568; font-size: 0.9rem; }
    </style>
  </head>
  <body>
    <div class="lang-switcher">
      <button class="lang-btn" data-lang="cs" title="Čeština">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="20" height="13">
          <rect width="900" height="600" fill="#d7141a"/>
          <rect width="900" height="300" fill="#fff"/>
          <path d="M 0,0 L 450,300 L 0,600 Z" fill="#11457e"/>
        </svg>
        CZ
      </button>
      <button class="lang-btn" data-lang="en" title="English">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7410 3900" width="20" height="11">
          <rect width="7410" height="3900" fill="#b22234"/>
          <path d="M0,450H7410m0,600H0m0,600H7410m0,600H0m0,600H7410m0,600H0" stroke="#fff" stroke-width="300"/>
          <rect width="2964" height="2100" fill="#3c3b6e"/>
          <g fill="#fff"><g id="s18"><g id="s9"><g id="s5"><g id="s4"><path id="s" d="M247,90 317.534230,307.082039 132.873218,172.917961H361.126782L176.465770,307.082039z"/><use href="#s" y="420"/><use href="#s" y="840"/><use href="#s" y="1260"/></g><use href="#s" y="1680"/></g><use href="#s4" x="247" y="210"/></g><use href="#s9" x="494"/></g><use href="#s18" x="988"/><use href="#s9" x="1976"/></g>
        </svg>
        EN
      </button>
    </div>

    <header>
      <h1 data-i18n="title">Nástroje pro navigační soutěže</h1>
      <p data-i18n="subtitle">Vyberte aplikaci</p>
    </header>

    <main class="apps">
      <a class="card" href="./map-corridors/" data-i18n-aria="corridors.aria">
        <span class="icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon>
            <line x1="8" y1="2" x2="8" y2="18"></line>
            <line x1="16" y1="6" x2="16" y2="22"></line>
          </svg>
        </span>
        <span class="meta">
          <span class="title" data-i18n="corridors.title">Foto koridory</span>
          <span class="desc" data-i18n="corridors.desc">Interaktivní vizualizace koridorů</span>
        </span>
      </a>

      <a class="card" href="./photo-helper/" data-i18n-aria="helper.aria">
        <span class="icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <circle cx="8.5" cy="8.5" r="1.5"></circle>
            <polyline points="21 15 16 10 5 21"></polyline>
          </svg>
        </span>
        <span class="meta">
          <span class="title" data-i18n="helper.title">Foto pomocník</span>
          <span class="desc" data-i18n="helper.desc">Organizace a označování soutěžních fotek</span>
        </span>
      </a>

      <div class="card" aria-disabled="true" data-i18n-aria="generator.aria">
        <span class="icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>
        </span>
        <span class="meta">
          <span class="title" data-i18n="generator.title">Generátor instrukcí</span>
          <span class="desc" data-i18n="generator.desc">Práce probíhá</span>
        </span>
      </div>
    </main>

    <script>
      // Translations
      const translations = {
        cs: {
          title: 'Nástroje pro navigační soutěže',
          subtitle: 'Vyberte aplikaci',
          'corridors.title': 'Foto koridory',
          'corridors.desc': 'Interaktivní vizualizace koridorů',
          'corridors.aria': 'Otevřít Foto koridory',
          'helper.title': 'Foto pomocník',
          'helper.desc': 'Organizace a označování soutěžních fotek',
          'helper.aria': 'Otevřít Foto pomocníka',
          'generator.title': 'Generátor instrukcí',
          'generator.desc': 'Práce probíhá',
          'generator.aria': 'Generátor instrukcí (Práce probíhá)'
        },
        en: {
          title: 'Navigation Flying Tools',
          subtitle: 'Select an application',
          'corridors.title': 'Photo Corridors',
          'corridors.desc': 'Interactive corridor visualization',
          'corridors.aria': 'Open Photo Corridors',
          'helper.title': 'Photo Helper',
          'helper.desc': 'Organize and label competition photos',
          'helper.aria': 'Open Photo Helper',
          'generator.title': 'Instruction Generator',
          'generator.desc': 'Work in progress',
          'generator.aria': 'Instruction Generator (Work in progress)'
        }
      };

      const LOCALE_KEY = 'app-locale';

      function getLocale() {
        const saved = localStorage.getItem(LOCALE_KEY);
        if (saved === 'cz') return 'cs';
        if (saved === 'cs' || saved === 'en') return saved;
        return 'cs';
      }

      function setLocale(locale) {
        const storageValue = locale === 'cs' ? 'cz' : locale;
        localStorage.setItem(LOCALE_KEY, storageValue);
        applyTranslations(locale);
        updateLangButtons(locale);
        document.documentElement.lang = locale;
      }

      function applyTranslations(locale) {
        const t = translations[locale] || translations.cs;
        document.querySelectorAll('[data-i18n]').forEach(el => {
          const key = el.dataset.i18n;
          if (t[key]) el.textContent = t[key];
        });
        document.querySelectorAll('[data-i18n-aria]').forEach(el => {
          const key = el.dataset.i18nAria;
          if (t[key]) el.setAttribute('aria-label', t[key]);
        });
      }

      function updateLangButtons(locale) {
        document.querySelectorAll('.lang-btn').forEach(btn => {
          btn.classList.toggle('active', btn.dataset.lang === locale);
        });
      }

      // Initialize
      const currentLocale = getLocale();
      applyTranslations(currentLocale);
      updateLangButtons(currentLocale);
      document.documentElement.lang = currentLocale;

      // Language switcher events
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => setLocale(btn.dataset.lang));
      });
    </script>
  </body>
</html>
